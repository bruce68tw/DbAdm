{"version":3,"file":"_Html.js","sourceRoot":"","sources":["../../../../base/services/_Html.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,KAAK;IACtB,oBAAoB;IACpB,iBAAiB;IACjB,MAAM,CAAC,SAAS,CAAC,GAAwB,EAAE,MAAgB;QACvD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrC,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACrB,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,8FAA8F;IAC9F,MAAM,CAAC,MAAM,CAAC,KAAgC;QAC1C,IAAI,KAAK,IAAI,IAAI;YAAE,OAAO,EAAE,CAAC;QAC7B,2CAA2C;QAC3C,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;IAC1C,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,KAAgC;QAC1C,IAAI,KAAK,IAAI,IAAI;YAAE,OAAO,EAAE,CAAC;QAC7B,2CAA2C;QAC3C,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;IAC1C,CAAC;IAED,0BAA0B;IAC1B,MAAM,CAAC,MAAM,CAAC,EAAU,EAAE,GAAY;QAClC,MAAM,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC;QACxB,2CAA2C;QAC3C,MAAM,GAAG,GAAG,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/D,kBAAkB;QAClB,2CAA2C;QAC3C,WAAW;QACX,2DAA2D;QAC3D,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;IACvC,CAAC;IAEJ,IAAI;IACD,MAAM,CAAC,OAAO,CAAC,GAAa,EAAE,GAAY;QACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE;YAC/B,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAClC,CAAC;CAEJ;AAAA,CAAC","sourcesContent":["/*\r\n * handle html data\r\n */\r\nexport default class _Html {\r\n    //*** 必要屬性 or 函式 ***\r\n    //get locale code\r\n    static encodeRow(row: Record<string, any>, fields: string[]): Record<string, any> {\r\n        for (let i = 0; i < fields.length; i++) {\r\n            const id = fields[i];\r\n            row[id] = _Html.encode(row[id]);\r\n        }\r\n        return row;\r\n    }\r\n\r\n    //see: https://stackoverflow.com/questions/14346414/how-do-you-do-html-encode-using-javascript\r\n    static encode(value: string | null | undefined): string {\r\n        if (value == null) return '';\r\n        // @ts-ignore: jQuery is globally available\r\n        return $('<div/>').text(value).html();\r\n    }\r\n\r\n    static decode(value: string | null | undefined): string {\r\n        if (value == null) return '';\r\n        // @ts-ignore: jQuery is globally available\r\n        return $('<div/>').html(value).text();\r\n    }\r\n\r\n    //?? 更新html欄位內容, 讀取 text()\r\n    static update(id: string, box?: JQuery): void {\r\n        const filter = '#' + id;\r\n        // @ts-ignore: jQuery is globally available\r\n        const obj = (box === undefined) ? $(filter) : box.find(filter);\r\n        //obj.text(value);\r\n        //obj.summernote('code', $(filter).text());\r\n        //debugger;\r\n        // @ts-ignore: summernote is expected to be a jQuery plugin\r\n        obj.summernote('code', obj.text());\r\n    }\r\n\r\n\t//??\r\n    static updates(ids: string[], box?: JQuery): void {\r\n        for (let i = 0; i < ids.length; i++)\r\n            _Html.update(ids[i], box);\r\n    }\r\n\r\n};"]}