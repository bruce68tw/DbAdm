{"version":3,"file":"_IRadio.js","sourceRoot":"","sources":["../../../../base/services/_IRadio.ts"],"names":[],"mappings":"AAAA,cAAc;AACd,OAAO,MAAM,MAAM,UAAU,CAAC;AAC9B,OAAO,IAAI,MAAM,QAAQ,CAAC;AAC1B,OAAO,IAAI,MAAM,QAAQ,CAAC;AAE1B;;;;GAIG;AACH,MAAM,CAAC,OAAO,OAAO,OAAQ,SAAQ,MAAM;IAEvC,aAAa;IACb,wBAAwB;IACxB,MAAM,CAAC,GAAG,CAAC,GAAW,EAAE,GAAW;QAC/B,OAAO,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACxC,CAAC;IACD;;;OAGG;IACH,MAAM,CAAC,IAAI,CAAC,GAAW,EAAE,GAAW;QAChC,gCAAgC;QAChC,OAAO,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAW,EAAE,GAAG,CAAC,CAAC;IAChE,CAAC;IAED,oBAAoB;IACpB,MAAM,CAAC,MAAM,CAAC,GAAW,EAAE,GAAW;QAClC,oBAAoB;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,WAAW,EAAE,GAAG,CAAC,CAAC;IACnD,CAAC;IAED,gCAAgC;IAChC,MAAM,CAAC,UAAU,CAAC,IAAY,EAAE,GAAW;QACvC,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAW,CAAC;IAC7D,CAAC;IAED,aAAa;IACb,aAAa;IACb,MAAM,CAAC,GAAG,CAAC,GAAW,EAAE,KAAa,EAAE,GAAW;QAC9C,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;IACxC,CAAC;IAED,oCAAoC;IACpC,MAAM,CAAC,IAAI,CAAC,GAAW,EAAE,KAAa,EAAE,GAAW;QAC/C,gCAAgC;QAChC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAW,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;IAChE,CAAC;IAED,yCAAyC;IACzC,MAAM,CAAC,UAAU,CAAC,IAAY,EAAE,KAAa,EAAE,GAAW;QACtD,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,gBAAgB,KAAK,GAAG,EAAE,GAAG,CAAC,CAAC;QAClE,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC;YAC7B,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,oBAAoB;IACpB,aAAa;IACb,MAAM,CAAC,OAAO,CAAC,GAAW,EAAE,MAAe,EAAE,GAAW;QACpD,eAAe;QACf,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;IAClD,CAAC;IACD,MAAM,CAAC,SAAS,CAAC,IAAY,EAAE,MAAe;QAC1C,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,aAAa;IACjD,CAAC;IAED;;;;;;;OAOG;IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8BE;IAEF;;;;;;;;;;;MAWE;IACF,MAAM,CAAC,MAAM,CAAC,GAAY,EAAE,KAAc,EAAE,OAAiB,EACzD,KAAuB,EAAE,QAAkB,EAAE,QAAiB,EAAE,OAAgB;QAChF,MAAM,IAAI,GAAG,EAAE;YACX,8BAA8B;YAC9B,+BAA+B;YAC/B,mCAAmC;YACnC,UAAU,CAAC;QAEf,QAAQ;QACR,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;QACpB,4BAA4B;QAC5B,QAAQ,GAAG,QAAQ,IAAI,EAAE,CAAC;QAC1B,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;QACxB,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;QACpB,IAAI,KAAK,KAAK,EAAE;YACZ,KAAK,GAAG,QAAQ,CAAC;QACrB,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YAC9B,KAAK,GAAG,CAAC,CAAC;QAEd,MAAM;QACN,OAAO,IAAI,aAAa,GAAG,IAAI,EAAE,WAAW,GAAG,IAAI,EAAE,GAAG;YACpD,WAAW,KAAK,GAAG,CAAC;QACxB,IAAI,OAAO;YACP,OAAO,IAAI,UAAU,CAAC;QAC1B,IAAI,QAAQ,KAAK,SAAS,IAAI,CAAC,QAAQ;YACnC,OAAO,IAAI,WAAW,CAAC,CAAI,qBAAqB;QAEpD,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACvD,CAAC;CAEJ,CAAC,OAAO","sourcesContent":["// @ts-nocheck\r\nimport _IBase from \"./_IBase\";\r\nimport _Obj from \"./_Obj\";\r\nimport _Str from \"./_Str\";\r\n\r\n/**\r\n * //注意: 單筆時, 要設定 fid/data-fid(只設定第1個radio), name (2個屬性的內容必須相同!!)\r\n * //與其他類型輸入欄位操作不同 !!\r\n * //iRadio 沒有 getD/setD\r\n */\r\nexport default class _IRadio extends _IBase {\r\n\r\n    //=== get ===\r\n    //get checked data-value\r\n    static get(fid: string, box: JQuery): string {\r\n        return _IRadio._getByName(fid, box);\r\n    }\r\n    /**\r\n     * get checked data-value by fid\r\n     * param obj {object} single object\r\n     */\r\n    static getO(obj: JQuery, box: JQuery): string {\r\n        // 假設 _Obj.getName 返回 'name' 屬性值\r\n        return _IRadio._getByName(_Obj.getName(obj) as string, box);\r\n    }\r\n\r\n    //get checked object\r\n    static getObj(fid: string, box: JQuery): JQuery {\r\n        // 假設 fid 為 name 屬性值\r\n        return _Obj.getF(`[name=${fid}]:checked`, box);\r\n    }\r\n\r\n    //get data-value by checked name\r\n    static _getByName(name: string, box: JQuery): string {\r\n        return _IRadio.getObj(name, box).data('value') as string;\r\n    }\r\n\r\n    //=== set ===\r\n    //改成用name來查欄位\r\n    static set(fid: string, value: string, box: JQuery): void {\r\n        _IRadio._setByName(fid, value, box);\r\n    }\r\n\r\n    //setO: function (obj, value, box) {\r\n    static setO(obj: JQuery, value: string, box: JQuery): void {\r\n        // 假設 _Obj.getName 返回 'name' 屬性值\r\n        _IRadio._setByName(_Obj.getName(obj) as string, value, box);\r\n    }\r\n\r\n    //set checked status by name & data-value\r\n    static _setByName(name: string, value: string, box: JQuery): void {\r\n        const obj = _Obj.getF(`[name=${name}][data-value=${value}]`, box);\r\n        if (obj != null && obj.length > 0)\r\n            obj.prop('checked', true);\r\n    }\r\n\r\n    //set status by name\r\n    //改成用name來查欄位\r\n    static setEdit(fid: string, status: boolean, box: JQuery): void {\r\n        //use getN() !!\r\n        _IRadio.setEditOs(_Obj.get(fid, box), status);\r\n    }\r\n    static setEditOs(objs: JQuery, status: boolean): void {\r\n        objs.attr('disabled', !status); //use attr !!\r\n    }\r\n\r\n    /**\r\n     button radio onclick event\r\n     params\r\n       me : this component\r\n       fid: field id \r\n       value: field value\r\n       onClickFn: (optional) callback function\r\n     */\r\n    /*\r\n    _onClickBtnRadio: function (me, fid, value, onClickFn) {\r\n        //unselect所有欄位\r\n        fid = '#' + fid;\r\n        var field = $(me);\r\n        var box = field.closest(fid + '_box');      //找最近的 xxx_box 元素, 因為考慮相同 id的情況\r\n        box.find('.active').removeClass('active');\r\n\r\n        //更新欄位內容\r\n        field.addClass('active');   //high light\r\n        box.find(fid).val(value);   //set field value\r\n\r\n        //更新欄位 xxx_now 內容\r\n        box.find(fid + '_now').val(field.attr('data-old'));\r\n\r\n        //call user define function\r\n        //if (onClickFn != undefined && onClickFn != \"\")\r\n        if (onClickFn)\r\n            onClickFn(me, value);\r\n    },\r\n\r\n    //get field value\r\n    getValue: function (fid) {\r\n        var me = $('[name=\"' + fid + '\"]:radio');\r\n        if (me.length > 0) {\r\n            return me.parent().hasClass('checked') ? me.val() : '';\r\n        } else {\r\n            return '';\r\n        }\r\n    },\r\n    */\r\n\r\n    /** ?? for 多筆資料only(data-id)\r\n     產生 checkbox html 內容, 與後端 XiCheckHelper 一致\r\n     @param {string} fid (optional)id/data-id \r\n     @param {string} label (optional)show label \r\n     @param {bool} checked default false, 是否勾選\r\n     @param {string} value (optional) 如果null則為1\r\n     @param {bool} editable default true, 是否可編輯\r\n     @param {string} boxClass (optional) boxClass\r\n     @param {string} extClass (optional) extClass\r\n     @param {string} extProp (optional) extProp\r\n     @return {string} html string.\r\n    */\r\n    static render(fid?: string, label?: string, checked?: boolean,\r\n        value?: string | number, editable?: boolean, extClass?: string, extProp?: string): string {\r\n        const html = \"\" +\r\n            \"<label class='xi-check {0}'>\" +\r\n            \"   <input type='radio'{1}>{2}\" +\r\n            \"   <span class='xi-rspan'></span>\" +\r\n            \"</label>\";\r\n\r\n        //adjust\r\n        label = label || '';\r\n        //boxClass = boxClass || '';\r\n        extClass = extClass || '';\r\n        extProp = extProp || '';\r\n        value = value || '';\r\n        if (label === '')\r\n            label = '&nbsp;';\r\n        if (_Str.isEmpty(value.toString()))\r\n            value = 1;\r\n\r\n        //attr\r\n        extProp += ` data-id='${fid || ''}' name='${fid || ''}'` +\r\n            ` value='${value}'`;\r\n        if (checked)\r\n            extProp += ' checked';\r\n        if (editable !== undefined && !editable)\r\n            extProp += ' disabled';    //disabled='disabled'\r\n\r\n        return _Str.format(html, extClass, extProp, label);\r\n    }\r\n\r\n} //class"]}