/*! @svgdotjs/svg.draggable.js v3.0.3 MIT*/;
!function(a){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){return{x:(t=t.changedTouches?t.changedTouches[0]:t).clientX,y:t.clientY}}var e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}var t,i,n;return t=e,(i=[{key:"init",value:function(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}},{key:"startDrag",value:function(t){var e,i=!t.type.indexOf("mouse");i&&1!==t.which&&0!==t.buttons||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented||(t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(o(t)),e=(i?"mouseup":"touchend")+".drag",a.on(window,(i?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),a.on(window,e,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:t,handler:this,box:this.box}))}},{key:"drag",value:function(t){var e=this.box,i=this.lastClick,n=this.el.point(o(t)),s=n.x-i.x,i=n.y-i.y;if(!s&&!i)return e;s=e.x+s,i=e.y+i;this.box=new a.Box(s,i,e.w,e.h),this.lastClick=n,this.el.dispatch("dragmove",{event:t,handler:this,box:this.box}).defaultPrevented||this.move(s,i)}},{key:"move",value:function(t,e){"svg"===this.el.type?a.G.prototype.move.call(this.el,t,e):this.el.move(t,e)}},{key:"endDrag",value:function(t){this.drag(t),this.el.fire("dragend",{event:t,handler:this,box:this.box}),a.off(window,"mousemove.drag"),a.off(window,"touchmove.drag"),a.off(window,"mouseup.drag"),a.off(window,"touchend.drag"),this.init(!0)}}])&&s(t.prototype,i),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();a.extend(a.Element,{draggable:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return(this.remember("_draggable")||new e(this)).init(t),this}})}(SVG);
//# sourceMappingURL=svg.draggable.min.js.map
